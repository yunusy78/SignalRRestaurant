@model WebUI.Areas.Admin.Models.QRCodeModelView
@{
    ViewData["Title"] = "Generate QR Code";
    Layout = "~/Areas/Admin/Views/AdminLayout/Index.cshtml";
    
}
<div class="main-panel">
<div class="content">
    <div class="container-fluid">
        <h4 class="page-title">QRCode</h4>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">QRCode Generator</div>
                    </div>
                    <div class="card-body">
                        <form method="post" action="/Admin/AdminQRCode/Index">

                            <div class="row mt-2">
                                <div class="form-group">
                                    <label><strong>Select QR Code Type</strong></label>
                                    <select asp-for="QRCodeType" id="QRCodeType" class="form-control" onchange="onQRCodeTypeChange()">
                                        <option value="1">SMS</option>
                                        <option value="2">WhatsApp</option>
                                        <option value="3">Email</option>
                                        <option value="4">WIFI</option>
                                        <option value="5">TableName</option>
                                    </select>
                                </div>
                            </div>

                            <div id="DIV5" class="hideDiv">
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter Table Name</strong></label>
                                        <input type="text" asp-for="TableName" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                            </div>

                            <!--  SMS  -->
                            <div id="DIV1" class="hideDiv">
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter Phone Number with country code(eg. +47)</strong></label>
                                        <input type="text" asp-for="SMSPhoneNumber" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter your Message</strong></label>
                                        <textarea asp-for="SMSBody" rows="4" class="form-control"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!--  Whats App Message  -->
                            <div id="DIV2" class="hideDiv">
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter WhatsApp Number with country code(eg. +47)</strong></label>
                                        <input type="text" asp-for="WhatsAppNumber" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter your Message</strong></label>
                                        <textarea asp-for="WhatsAppMessage" rows="4" class="form-control"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!--  Compose Email  -->
                            <div id="DIV3" class="hideDiv">
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter Receive's Email Address</strong></label>
                                        <input type="text" asp-for="ReceiverEmailAddress" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter Email Subject</strong></label>
                                        <input type="text" asp-for="EmailSubject" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter Email Message</strong></label>
                                        <textarea asp-for="EmailMessage" rows="4" class="form-control"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!--   WIFI   -->
                            <div id="DIV4" class="hideDiv">
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter WIFI Name</strong></label>
                                        <input type="text" asp-for="WIFIName" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group">
                                        <label><strong>Enter WIFI Password</strong></label>
                                        <input type="text" asp-for="WIFIPassword" class="form-control" autocomplete="off" />
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">Generate</button>
                                    <button type="reset" id="btn-reset" class="btn btn-secondary">Reset</button>
                                </div>
                            </div>

                            @if (!string.IsNullOrEmpty(Model.QRImageURL))
                            {
                                <div class="row mt-2" id="qrCodeImage">
                                    <div style="text-align: center" class="form-group">
                                        <img height="300" width="300" src="@Model.QRImageURL" />
                                    </div>
                                </div>
                            }

                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
        </div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
        $(document).ready(function () {
            $(".hideDiv").hide();
            $("#QRCodeType").trigger("change");
            $("#btn-reset").on("click",function(){
                window.location.reload();
            });
        });

        function onQRCodeTypeChange() {
            let qrcodeType = $("#QRCodeType").val();
            $(".hideDiv").hide();
            $("#DIV" + qrcodeType).show();
        }
    </script>
    